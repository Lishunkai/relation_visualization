<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>师承关系可视化</title>
    <script src="jquery-1.10.2.min.js"></script>
    <script src="echarts.js"></script>
    <style type="text/css">
        html, body, #main { height: 100%; width: 100%; margin: 0; padding: 0 }
    </style>
</head>
<body>
	<div id="graph" style="width:900px; height:750px; float:left;"></div>
	<div id="xuri" style="width:600px; height:750px; float:left;"></div>
	<div id="main2" style="width:500px; height:500px; float:left;"></div>
	<div id="main3" style="width:200px; height:500px; float:left;"></div>
	<div id="main4" style="width:750px; height:500px; float:left;"></div>
	<div id="main5" style="width:1500px; height:400px; float:left;"></div>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('graph'));
		var myChartxuri = echarts.init(document.getElementById('xuri'));
		var myChart2 = echarts.init(document.getElementById('main2'));
		var myChart3 = echarts.init(document.getElementById('main3'));
		var myChart4 = echarts.init(document.getElementById('main4'));
		var myChart5 = echarts.init(document.getElementById('main5'));

var nodes = [
                        {
                            name: '饶毅',
							daoshi: '詹裕农、叶公杼',
							nation: '中国',
							age: '56',
							affliation: '北京大学理学部主任，曾任西北大学神经研究所副所长、北京大学生命科学学院院长',
                            degree: 'UCSF博士',
							graduation: '1991',
							interest: '神经科学',
							cite: '15000',
							pub: '300',
                            symbolSize: 65, <!--citation ~15000 -->
                            itemStyle: {
                                normal: {
                                    color: '#fec42c'
                                }
                            }
                        },
						{
                            name: '叶公杼',
							daoshi: '/',
							nation: '美籍华人',
							age: '71',
							affliation: 'UCSF教授',
                            degree: '加州理工博士',
							graduation: '1974',
							interest: '生物物理学',
							cite: '74000',
							pub: '700',
							symbolSize: 100, <!--citation ~74000 -->
                            itemStyle: {
                                normal: {
                                    color: '#da1d23'
                                }
                            }
                        },
						{
                            name: '詹裕农',
							daoshi: '/',
							nation: '美籍华人',
							age: '72',
							affliation: 'UCSF教授',
                            degree: '加州理工博士',
							graduation: '1974',
							interest: '生理学',
							cite: '75269',
							pub: '572',
                            symbolSize: 100, <!--citation  75269 -->
							itemStyle: {
                                normal: {
                                    color: '#da1d23'
                                }
                            }
                        },
						{
                            name: 'David Anderson',
							daoshi: '/',
							nation: '美国',
							age: '63',
							affliation: '加州理工教授',
                            degree: '洛克菲勒大学博士',
							graduation: '1983',
							cite: '40000',
							pub: '400',
							interest: '神经电路',
                            symbolSize: 80, <!--citation  ~40000 -->
							itemStyle: {
                                normal: {
                                    color: '#da1d23'
                                }
                            }
                        },
						{
                            name: 'Liming Wang',
							daoshi: 'David Anderson',
							nation: '中国',
							age: '37',
							affliation: '中科院高能物理研究所',
                            degree: '加州理工博士',
							graduation: '2000',
							cite: '5091',
							pub: '400',
							interest: '纳米生物学',
							symbolSize: 62, <!--citation  5091 -->
                            itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)'
                                }
                            }
                        },
						{
                            name: 'Wei Wu',
							daoshi: '/',
							nation: '中国',
							age: '44',
							affliation: '美国国家健康医疗中心',
                            degree: '西北大学博士',
							graduation: '1998',
							cite: '200',
							pub: '20',
							interest: '生物记忆',
                            symbolSize: 18, <!--citation  ~200 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c'
                                }
                            }
                        },
						{
                            name: 'Ming Zou',
							daoshi: 'Rainer Friedrich',
							nation: '中国',
							age: '37',
							affliation: '北京大学',
                            degree: '瑞士巴塞尔大学博士',
							graduation: '2007',
							cite: '500',
							pub: '40',
							interest: '神经网络',
                            symbolSize: 25, <!--citation  ~500 -->
							itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)'
                                }
                            }
                        },
						{
                            name: 'Marie Xun Wang',
							daoshi: '/',
							nation: '中国',
							age: '35',
							affliation: '波兰生物科技大学',
                            degree: '约翰霍普金斯大学博士',
							graduation: '2010',
							cite: '400',
							pub: '30',
							interest: '神经科学',
                            symbolSize: 23, <!--citation  ~400 -->
							itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)'
                                }
                            }
                        },
						{
                            name: 'Wei Guo',
							daoshi: '饶毅',
							nation: '中国',
							age: '49',
							affliation: '清华大学',
                            degree: '西北大学博士',
							graduation: '1994',
							cite: '5091',
							pub: '400',
							interest: '神经药物',
							symbolSize: 35, <!--citation  ~2000 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Claudia Jurgensen',
							daoshi: '饶毅',
							nation: '美国',
							age: '47',
							affliation: '冷泉实验室',
                            degree: '西北大学博士',
							graduation: '1996',
							cite: '2000',
							pub: '80',
							interest: '分子生物学',
							symbolSize: 35, <!--citation  ~2000 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Huashun Li',
							daoshi: '饶毅',
							nation: '中国',
							age: '46',
							affliation: '中国干细胞研究所',
                            degree: '华盛顿大学博士',
							graduation: '1998',
							cite: '3000',
							pub: '100',
							interest: '神经科学',
							symbolSize: 40, <!--citation  ~3000 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Corey M. McCann',
							daoshi: '饶毅',
							nation: '美国',
							age: '43',
							affliation: '哈佛大学',
                            degree: '华盛顿大学博士',
							graduation: '2003',
							cite: '3000',
							pub: '100',
							interest: '数字医疗',
							symbolSize: 40, <!--citation  ~3000 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Yan Zhu',
							daoshi: '饶毅',
							nation: '中国',
							age: '46',
							affliation: '中科院生物物理所',
                            degree: '华盛顿大学博士',
							graduation: '2000',
							cite: '2288',
							pub: '97',
							interest: '生物遗传学',
							symbolSize: 35, <!--citation  2288 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Kit Wong',
							daoshi: '饶毅',
							nation: '中国',
							age: '44',
							affliation: '华盛顿大学',
                            degree: '华盛顿大学博士',
							graduation: '2002',
							cite: '1300',
							pub: '100',
							interest: '生物医学',
							symbolSize: 28, <!--citation  ~1300 -->
							itemStyle: {
                                normal: {
                                    color: '#fec42c',
                                }
                            }
                        },
						{
                            name: 'Shasha Zhang',
							daoshi: '饶毅',
							nation: '中国',
							age: '36',
							affliation: '美国斯托瓦斯医学研究所',
                            degree: '北京大学博士',
							graduation: '2009',
							cite: '336',
							pub: '22',
							interest: '生物医学',
							symbolSize: 13, <!--citation  336 -->
							itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)',
                                }
                            }
                        },
						{
                            name: 'Chuan Zhou',
							daoshi: '饶毅',
							nation: '中国',
							age: '34',
							affliation: '中科院上海生命科学研究院',
                            degree: '北京大学博士',
							graduation: '2010',
							cite: '581',
							pub: '54',
							interest: '生命科学',
							symbolSize: 19, <!--citation  581 -->
							itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)',
                                }
                            }
                        },
						{
                            name: 'Xian Zhang',
							daoshi: '饶毅',
							nation: '中国',
							age: '38',
							affliation: '中科院上海生命科学研究院',
                            degree: '北京大学博士',
							graduation: '2008',
							cite: '1000',
							pub: '50',
							interest: '神经科学',
							symbolSize: 24, <!--citation  ~1000 -->
							itemStyle: {
                                normal: {
                                    color: 'rgba(59,176,255,1)',
                                }
                            }
                        }
                    ];	

		option = {
            title:[
			{
				text: '生命科学师承关系可视化',
				top:'2%',
				x:'center'
			},
			{
				text: '红色: ≥60岁',
				top:'8%',
				x:'5%',
				textStyle:{color: '#da1d23', fontSize:14}
			},
			{
				text: '橙色: 40~60岁',
				top:'12%',
				x:'5%',
				textStyle:{color: '#fec42c', fontSize:14}
			},
			{
				text: '蓝色: 30~40岁',
				top:'16%',
				x:'5%',
				textStyle:{color: 'rgba(59,176,255,1)', fontSize:14}
			},
			{
				text: '*浅红色连线表示两者的合作关系，合作越密切线条越宽',
				top:'93%',
				x:'5%',
				textStyle:{fontSize:12}
			}
			],
			
			tooltip:
			{
				padding: 10,
				backgroundColor: '#222',
				borderColor: '#777',
				borderWidth: 1,
			
				formatter: function (x)
				{
					return '<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">'
					+ '姓名' + '：' + x.data.name	// 城市: 公司名称
					+ '</div>'
					+ '导师' + '：' + x.data.daoshi + '<br>'
					+ '国籍' + '：' + x.data.nation + '<br>'
					+ '年龄' + '：' + x.data.age + "岁" + '<br>'
					+ '研究方向' + '：' + x.data.interest + '<br>'
					+ '所在单位' + '：' + x.data.affliation + '<br>'
					+ '毕业院校' + '：' + x.data.degree + '<br>'
					+ '毕业时间' + '：' + x.data.graduation + "年" + '<br>'
					+ '发表文章' + '：' + x.data.pub + "篇" + '<br>'
					+ '引用量' + '：' + x.data.cite + '<br>'
				}
			},
            series: [
                {
                    type: 'graph',
                    layout: 'force', <!-- layout可以选择none、circular和force 'none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置。 'circular' 采用环形布局。'force' 采用力引导布局。-->
                    symbolSize: 80,
                    roam: true,
                    edgeSymbol: ['circle', 'arrow'],
                    edgeSymbolSize: [1, 5],
                    edgeLabel: {
                        normal: {
                            textStyle:
							{
                                fontSize: 10
                            }
                        }
                    },
                    force:
					{
                        repulsion: 4000,
                        edgeLength: [20, 50], //边的两个节点之间的距离，这个距离也会受 repulsion。[10, 50] 。值越小则长度越长
						gravity : 0.3 //节点受到的向中心的引力因子。该值越大节点越往中心点靠拢。
                    },
                    draggable: true,
                    itemStyle:
					{
                        normal:
						{
                            color: '#4b565b'
                        }
                    },
                    lineStyle:
					{
                        normal:
						{
                            width: 1,
                            color: '#4b565b'
                        }
                    },
                    edgeLabel: {
                        normal: {
                            show: false,
                            formatter: function (x) {
                                return x.data.name;
                            }
                        }
                    },
                    label:
					{
                        normal:
						{
                            show: true,
                            textStyle:
							{
								color: '#000'
                            }
                        }
                    },
					legend:
					{
							orient : 'vertical',
							x: '5%',
							y: '10%',
							data:["60岁以上","40至60岁","30至40岁"]
					},
					categories:["60岁以上","40至60岁","30至40岁"],
                    data:nodes,
                    links: [
                        {
                            source: '詹裕农',
                            target: '饶毅',
                            name: '师生',
							weight: 10,
                            des: '饶毅是詹裕农和叶公杼的学生'
                        },
						{
                            source: '叶公杼',
                            target: '饶毅',
                            name: '师生',
							weight: 10,
							des: '饶毅是詹裕农和叶公杼的学生'
                        },
						{
                            source: '饶毅',
                            target: 'Wei Guo',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Claudia Jurgensen',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Huashun Li',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Corey M. McCann',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Yan Zhu',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Kit Wong',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Shasha Zhang',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Chuan Zhou',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: '饶毅',
                            target: 'Xian Zhang',
							weight: 20,
                            name: "师生"
                        },
						{
                            source: 'David Anderson',
                            target: 'Liming Wang',
							weight: 5,
                            name: "师生"
                        },
						{
                            source: '詹裕农',
                            target: 'David Anderson',
							weight: 10,
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 1
                                }
                            }
                        },
						{
                            source: '詹裕农',
                            target: '叶公杼',
                            name: "夫妻，合作",
							weight: 10,
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: '叶公杼',
                            target: 'David Anderson',
                            name: "合作",
                            symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 1
                                }
                            }
                        },
						{
                            source: '饶毅',
                            target: 'David Anderson',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: '饶毅',
                            target: 'Liming Wang',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: '饶毅',
                            target: 'Wei Wu',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: '饶毅',
                            target: 'Ming Zou',
                            name: "合作",
                            symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: '饶毅',
                            target: 'Marie Xun Wang',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        },
						{
                            source: 'Wei Guo',
                            target: 'Claudia Jurgensen',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 2.5
                                }
                            }
                        },
						{
                            source: 'Kit Wong',
                            target: 'Corey M. McCann',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 1
                                }
                            }
                        },
						{
                            source: 'Xian Zhang',
                            target: 'Chuan Zhou',
                            name: "合作",
							symbolSize: '0', <!-- 0: 合作关系-->
							lineStyle: {
                                normal: {
                                    type: 'solid',
                                    color: '#C1232B',
									width: 4
                                }
                            }
                        }
					]
                }
            ]
        };

        var dataxuri = [{
            name: '60岁以上',
            itemStyle: {
                color: '#da1d23'
            },
            children: [
			{
                name: '美国',
				//value: 3,
                itemStyle: {
                    color: '#e0719c'
                },
                children: [{
                    name: '詹裕农',
                    value: 1,
                    itemStyle: {
                        color: '#f99e1c'
                    }
                }, {
                    name: '叶公杼',
                    value: 1,
                    itemStyle: {
                        color: '#ef5a78'
                    }
                },
				{
                    name: 'David Anderson',
                    value: 1,
                    itemStyle: {
                        color: '#3e0317'
                    }
                }]
            }]
        },{
            name: '40至60岁',
            itemStyle: {
                color: '#ebb40f'
            },
            children: [{
                name: '美国',
                itemStyle: {
                    color: '#e1c315'
                },
                children: [{
                    name: '饶毅',
                    value: 1,
                    itemStyle: {
                        color: '#9ea718'
                    }
                }, {
                    name: 'Wei Wu',
                    value: 1,
                    itemStyle: {
                        color: '#94a76f'
                    }
                }, {
                    name: 'Kit Wong',
                    value: 1,
                    itemStyle: {
                        color: '#d0b24f'
                    }
                }, {
                    name: 'Wei Guo',
                    value: 1,
                    itemStyle: {
                        color: '#8eb646'
                    }
                }, {
                    name: 'Claudia Jurgensen',
                    value: 1,
                    itemStyle: {
                        color: '#ae341f'
                    }
                }, {
                    name: 'Huashun Li',
                    value: 1,
                    itemStyle: {
                        color: '#c1ba07'
                    }
                },
				{
                    name: 'Corey M. McCann',
                    value: 1,
                    itemStyle: {
                        color: '#8b6439'
                    }
                },
				{
                    name: 'Yan Zhu',
                    value: 1,
                    itemStyle: {
                        color: '#187a2f'
                    }
                }
				]
            }]
        },
		{
            name: '30至40岁',
            itemStyle: {
                color: '#0aa3b5'
            },
            children: [
			{
                name: '美国',
                itemStyle: {
                    color: '#e65832'
                },
                children: [{
                    name: 'Liming Wang',
                    value: 1,
                    itemStyle: {
                        color: '#8b8c90'
                    }
                }, {
                    name: 'Marie Xun Wang',
                    value: 1,
                    itemStyle: {
                        color: '#beb276'
                    }
                }]
            },
			{
                name: '欧洲',
                itemStyle: {
                    color: '#9db2b7'
                },
                children: [{
                    name: 'Ming Zou',
                    value: 1,
                    itemStyle: {
                        color: '#80a89d'
                    }
                }]
            },
			{
                name: '中国',
                itemStyle: {
                    color: '#76c0cb'
                },
                children: [{
                    name: 'Shasha Zhang',
                    value: 1,
                    itemStyle: {
                        color: '#80a89d'
                    }
                }, {
                    name: 'Chuan Zhou',
                    value: 1,
                    itemStyle: {
                        color: '#310d0f'
                    }
                }, {
                    name: 'Xian Zhang',
                    value: 1,
                    itemStyle: {
                        color: '#7a9bae'
                    }
                }]
            }
			]
        }];

        optionxuri = {
            title: {
                text: '年龄和求学地点分布图',
				x: 'center',
				y: '3%',
                textStyle: {
                    fontSize: 18,
                    align: 'center'
                }
            },
            series: {
                type: 'sunburst',
                highlightPolicy: 'ancestor',
                data: dataxuri,
                radius: [0, '80%'],
                sort: null,
                levels: [{}, {
                    r0: '10%',
                    r: '30%',
                    itemStyle: {
                        borderWidth: 2
                    },
                    label: {
                        rotate: 'tangential'
                    }
                }, {
                    r0: '30%',
                    r: '60%',
                    label: {
                        align: 'right'
                    }
                }, {
                    r0: '60%',
                    r: '62%',
                    label: {
                        position: 'outside',
                        padding: 3,
                        silent: false
                    },
                    itemStyle: {
                        borderWidth: 3
                    }
                }]
            }
        };
		
		
    option2 = {
    title : {
        text: '求学地点和毕业去向',
        x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient : 'vertical',
        x: '5%',
		y: '10%',
        data:['中国','美国','欧洲']
    },
    calculable : true,
    series : [
        {
            name:'访问来源',
            type:'pie',
            radius : '35%', //饼图的半径大小  
            center: ['25%', '60%'],
            data:[
				{value:3, name:'中国'},
                {value:13, name:'美国'},
                {value:1, name:'欧洲'}
            ]
        },
		{
            name:'访问来源',
            type:'pie',
            radius : '35%', //饼图的半径大小  
            center: ['70%', '60%'],
            data:[
                {value:8, name:'中国'},
				{value:8, name:'美国'},
                {value:1, name:'欧洲'}
            ]
        }
    ]
};

option3 = {
    tooltip : {
        trigger: 'axis',
        axisPointer : {
            type: 'shadow'
        }
    },
    legend: {
        data:['中国','美国','欧洲'],
		y:'6%'
    },
    toolbox: {
        show : true,
        orient : 'vertical',
        y : 'center',
        feature : {
            mark : {show: true},
            magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            data : ['求学地点','毕业去向']
        }
    ],
    yAxis : [
        {
            type : 'value',
            splitArea : {show : true}
        }
    ],
    grid: {
        x2:40
    },
    series : [
        {
            name:'中国',
            type:'bar',
            stack: '总量',
            data:[3, 8]
        },
		{
            name:'美国',
            type:'bar',
            stack: '总量',
            data:[13, 8]
        },
        {
            name:'欧洲',
            type:'bar',
            stack: '总量',
            data:[1, 1]
        }
    ]
};
	var nodes=[
		{"name":"加州理工",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"UCSF",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"西北大学",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"瑞士巴塞尔大学",itemStyle:{normal:{color:'rgba(50,154,149,1)'}}},
		{"name":"洛克菲勒大学",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"约翰霍普金斯大学",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"华盛顿大学",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"北京大学",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		
		{"name":"波兰生物科技大学",itemStyle:{normal:{color:'rgba(50,154,149,1)'}}},
		
		{"name":"UCSF-任教",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"加州理工-任教",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"美国国家健康医疗中心",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"冷泉实验室",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"哈佛大学",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"华盛顿大学-任教",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		{"name":"美国斯托瓦斯医学研究所",itemStyle:{normal:{color:'rgba(3,63,123,1)'}}},
		
		{"name":"北京大学-任教",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		{"name":"清华大学",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		{"name":"中科院高能物理研究所",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		{"name":"中国干细胞研究所",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		{"name":"中科院生物物理所",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}},
		{"name":"中科院上海生命科学研究院",itemStyle:{normal:{color:'rgba(204,51,0,1)'}}}
	];
	
	var links=[
	{"source":"加州理工", "target":"UCSF-任教", "value":"2"},
	{"source":"UCSF", "target":"北京大学-任教", "value":"1"},
	{"source":"加州理工", "target":"中科院高能物理研究所", "value":"1"},
	{"source":"西北大学", "target":"美国国家健康医疗中心", "value":"1"},
	{"source":"瑞士巴塞尔大学", "target":"北京大学-任教", "value":"1"},
	{"source":"洛克菲勒大学", "target":"加州理工-任教", "value":"1"},
	{"source":"约翰霍普金斯大学", "target":"波兰生物科技大学", "value":"1"},
	{"source":"西北大学", "target":"清华大学", "value":"1"},
	{"source":"西北大学", "target":"冷泉实验室", "value":"1"},
	{"source":"华盛顿大学", "target":"中国干细胞研究所", "value":"1"},
	{"source":"华盛顿大学", "target":"哈佛大学", "value":"1"},
	{"source":"华盛顿大学", "target":"中科院生物物理所", "value":"1"},
	{"source":"华盛顿大学", "target":"华盛顿大学-任教", "value":"1"},
	{"source":"北京大学", "target":"美国斯托瓦斯医学研究所", "value":"1"},
	{"source":"北京大学", "target":"中科院上海生命科学研究院", "value":"1"},
	{"source":"北京大学", "target":"中科院上海生命科学研究院", "value":"1"},
	
	];
	
    option4 = {
        title: {
            text: '毕业去向图',
			x:'35%',
			textStyle: {fontSize: 14}
        },
        tooltip: {
            trigger: 'item',
            triggerOn: 'mousemove'
        },
        series: [
            {
                type: 'sankey',
                layout: 'none',
				//x: '10%',
                left:'10%',
				right:'30%',
				data: nodes,
                links: links,
                itemStyle: {
                    normal: {
                        borderWidth: 0.5,
                        borderColor: '#aaa'
                    }
                },
                lineStyle: {
                    normal: {
                        color: 'source',
                        curveness: 0.5
                    }
                }
            }
        ]
    };
	

// Schema:
// date,AQIindex,PM2.5,PM10,CO,NO2,SO2
// 年龄 毕业时间 研究方向 发表论文数目 论文引用量 求学地点 毕业去向
var dataabove60 = [
    [72,1974,"生理学",572,75269,"美国","美国"],
    [71,1974,"生理学",700,74000,"美国","美国"],
    [63,1983,"神经电路",400,40000,"美国","美国"]
];

var data40to60 = [
    [56,1991,"神经科学",300,15000,"美国","中国"],
    [44,1998,"神经科学",20,200,"美国","美国"],
    [49,1994,"神经药物",130,2000,"美国","中国"],
    [47,1996,"分子生物学",80,2000,"美国","美国"],
    [46,1998,"神经科学",100,3000,"美国","中国"],
    [43,2003,"生物医学",100,3000,"美国","美国"],
    [46,2000,"生物遗传学",97,2288,"美国","中国"],
    [44,2002,"生物医学",100,1300,"美国","美国"]
];

var data30to40 = [
    [37,2007,"神经网络",40,500,"欧洲","中国"],
    [35,2010,"神经科学",30,400,"美国","欧洲"],
    [36,2009,"生物医学",22,336,"中国","美国"],
    [34,2010,"生理学",54,581,"中国","中国"],
    [38,2008,"神经科学",50,1000,"中国","中国"]
];

var schema = [
    {name: 'date', index: 0, text: '年龄'},
    {name: 'AQIindex', index: 1, text: '毕业时间'},
    {name: 'PM25', index: 2, text: '研究方向'},
    {name: 'PM10', index: 3, text: '发表论文数目'},
    {name: 'CO', index: 4, text: '论文引用量'},
    {name: 'NO2', index: 5, text: '求学地点'},
    {name: 'SO2', index: 6, text: '毕业去向'}
];

option5 = {
    backgroundColor: '#fff',
    legend: {
        bottom: 30,
        data: ['60岁以上', '40至60岁', '30至40岁'],
        itemGap: 80,
        textStyle: {
            color: '#333',
            fontSize: 14
        }
    },
    tooltip: {
        padding: 10,
        backgroundColor: '#fff',
        borderColor: '#777',
        borderWidth: 1
    },
    parallelAxis: [
        {dim: 0, name: schema[0].text, inverse: false, min:33, max: 72, nameLocation: 'end'},
        {dim: 1, name: schema[1].text, inverse: false, min: 1974, max: 2010, nameLocation: 'end'},
        {dim: 2, name: schema[2].text, type: 'category', data: ['生理学', '神经电路', '神经科学', '神经药物', '分子生物学', '生物医学', '神经网络']},
        {dim: 3, name: schema[3].text, inverse: false, min:10, max: 700, nameLocation: 'end'},
        {dim: 4, name: schema[4].text, inverse: false, max: 75500, nameLocation: 'end'},
        {dim: 5, name: schema[5].text, type: 'category', data: ['美国', '中国', '欧洲']},
        {dim: 6, name: schema[6].text, type: 'category', data: ['美国', '中国', '欧洲']}
    ],
    parallel: {
        left: '5%',
        right: '18%',
        bottom: 80,
        parallelAxisDefault: {
            type: 'value',
            nameLocation: 'end',
            nameGap: 20,
            nameTextStyle: {
                color: '#000',
                fontSize: 12
            },
            axisLine: {
                lineStyle: {
                    color: '#000'
                }
            },
            axisTick: {
                lineStyle: {
                    color: '#000'
                }
            },
            splitLine: {
                show: false
            },
            axisLabel: {
                textStyle: {
                    color: '#000'
                }
            }
        }
    },
    series: [
        {
            name: '60岁以上',
            type: 'parallel',
            lineStyle: {normal:{width: 1,opacity: 0.5, color:'rgba(204,51,0,1)'}},
            data: dataabove60
        },
        {
            name: '40至60岁',
            type: 'parallel',
            lineStyle: {normal:{width: 1,opacity: 0.5, color:'rgba(0,102,204,1)'}},
            data: data40to60
        },
        {
            name: '30至40岁',
            type: 'parallel',
            lineStyle: {normal:{width: 1,opacity: 0.5, color:'rgba(204,153,0,1)'}},
            data: data30to40
        }
    ]
};
	


		
        echarts.connect([myChart2, myChart3]); // 多图联动
		
		myChart.setOption(option);
		myChartxuri.setOption(optionxuri);
		myChart2.setOption(option2);
		myChart3.setOption(option3);
		myChart4.setOption(option4);
		myChart5.setOption(option5);
    </script>
</body>
</html>
